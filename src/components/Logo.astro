---
interface Props {
  size?: 'small' | 'medium' | 'large';
  animated?: boolean;
}

const { size = 'medium', animated = true } = Astro.props;

const sizeClasses = {
  small: 'w-8 h-8',
  medium: 'w-12 h-12', 
  large: 'w-16 h-16'
};
---

<div class={`logo ${animated ? 'animated' : ''} ${sizeClasses[size]}`}>
  <svg viewBox="0 0 100 100" class="logo-svg">
    <!-- Libro base -->
    <defs>
      <linearGradient id="bookGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
        <stop offset="50%" style="stop-color:#764ba2;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#f093fb;stop-opacity:1" />
      </linearGradient>
      <linearGradient id="pageGradient" x1="0%" y1="0%" x2="100%" y2="100%">
        <stop offset="0%" style="stop-color:#fbbf24;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#f59e0b;stop-opacity:1" />
      </linearGradient>
    </defs>
    
    <!-- Sombra del libro -->
    <ellipse cx="52" cy="85" rx="25" ry="5" fill="rgba(0,0,0,0.2)" class="shadow"/>
    
    <!-- Libro -->
    <rect x="20" y="25" width="40" height="55" rx="2" fill="url(#bookGradient)" class="book"/>
    
    <!-- Páginas del libro -->
    <rect x="22" y="27" width="36" height="51" rx="1" fill="white" opacity="0.9"/>
    <rect x="24" y="29" width="32" height="47" rx="1" fill="url(#pageGradient)" opacity="0.8"/>
    
    <!-- Líneas de texto -->
    <line x1="28" y1="35" x2="52" y2="35" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    <line x1="28" y1="40" x2="50" y2="40" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    <line x1="28" y1="45" x2="48" y2="45" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    <line x1="28" y1="50" x2="52" y2="50" stroke="#333" stroke-width="0.5" opacity="0.7"/>
    
    <!-- Estrella brillante -->
    <g class="star" transform="translate(65,20)">
      <path d="M0,-8 L2,-2 L8,-2 L3,1 L5,7 L0,4 L-5,7 L-3,1 L-8,-2 L-2,-2 Z" 
            fill="#fbbf24" stroke="#f59e0b" stroke-width="0.5"/>
      <circle cx="0" cy="0" r="1" fill="white" opacity="0.8"/>
    </g>
    
    <!-- Cruz pequeña -->
    <g class="cross" transform="translate(75,65)">
      <rect x="-1" y="-6" width="2" height="12" fill="#667eea" rx="1"/>
      <rect x="-4" y="-1" width="8" height="2" fill="#667eea" rx="1"/>
      <circle cx="0" cy="0" r="0.5" fill="white"/>
    </g>
    
    <!-- Partículas flotantes -->
    <circle cx="15" cy="20" r="1" fill="#f093fb" opacity="0.6" class="particle particle-1"/>
    <circle cx="85" cy="30" r="0.8" fill="#667eea" opacity="0.7" class="particle particle-2"/>
    <circle cx="10" cy="60" r="1.2" fill="#fbbf24" opacity="0.5" class="particle particle-3"/>
    <circle cx="90" cy="75" r="0.9" fill="#764ba2" opacity="0.6" class="particle particle-4"/>
  </svg>
</div>

<style>
  .logo {
    display: inline-block;
    cursor: pointer;
    transition: transform 0.3s ease;
  }

  .logo:hover {
    transform: scale(1.1);
  }

  .logo-svg {
    width: 100%;
    height: 100%;
  }

  .animated .book {
    animation: bookFloat 3s ease-in-out infinite;
  }

  .animated .star {
    animation: starTwinkle 2s ease-in-out infinite;
    transform-origin: 65px 20px;
  }

  .animated .cross {
    animation: crossGlow 4s ease-in-out infinite;
  }

  .animated .shadow {
    animation: shadowPulse 3s ease-in-out infinite;
  }

  .animated .particle-1 {
    animation: particleFloat1 4s ease-in-out infinite;
  }

  .animated .particle-2 {
    animation: particleFloat2 3.5s ease-in-out infinite 0.5s;
  }

  .animated .particle-3 {
    animation: particleFloat3 4.5s ease-in-out infinite 1s;
  }

  .animated .particle-4 {
    animation: particleFloat4 3s ease-in-out infinite 1.5s;
  }

  @keyframes bookFloat {
    0%, 100% {
      transform: translateY(0) rotate(0deg);
    }
    50% {
      transform: translateY(-2px) rotate(1deg);
    }
  }

  @keyframes starTwinkle {
    0%, 100% {
      transform: scale(1) rotate(0deg);
      opacity: 1;
    }
    50% {
      transform: scale(1.2) rotate(180deg);
      opacity: 0.7;
    }
  }

  @keyframes crossGlow {
    0%, 100% {
      filter: drop-shadow(0 0 2px rgba(102, 126, 234, 0.3));
    }
    50% {
      filter: drop-shadow(0 0 6px rgba(102, 126, 234, 0.8));
    }
  }

  @keyframes shadowPulse {
    0%, 100% {
      opacity: 0.2;
      transform: scale(1);
    }
    50% {
      opacity: 0.1;
      transform: scale(1.1);
    }
  }

  @keyframes particleFloat1 {
    0%, 100% {
      transform: translateY(0) translateX(0);
      opacity: 0.6;
    }
    33% {
      transform: translateY(-10px) translateX(5px);
      opacity: 0.9;
    }
    66% {
      transform: translateY(-5px) translateX(-3px);
      opacity: 0.4;
    }
  }

  @keyframes particleFloat2 {
    0%, 100% {
      transform: translateY(0) translateX(0);
      opacity: 0.7;
    }
    50% {
      transform: translateY(-8px) translateX(-4px);
      opacity: 0.3;
    }
  }

  @keyframes particleFloat3 {
    0%, 100% {
      transform: translateY(0) translateX(0);
      opacity: 0.5;
    }
    25% {
      transform: translateY(-6px) translateX(3px);
      opacity: 0.8;
    }
    75% {
      transform: translateY(-12px) translateX(-2px);
      opacity: 0.2;
    }
  }

  @keyframes particleFloat4 {
    0%, 100% {
      transform: translateY(0) translateX(0);
      opacity: 0.6;
    }
    40% {
      transform: translateY(-4px) translateX(-5px);
      opacity: 0.9;
    }
    80% {
      transform: translateY(-8px) translateX(2px);
      opacity: 0.3;
    }
  }

  .w-8 { width: 2rem; height: 2rem; }
  .w-12 { width: 3rem; height: 3rem; }
  .w-16 { width: 4rem; height: 4rem; }
</style>
